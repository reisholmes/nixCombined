#!/usr/bin/env bash
# fif - Find in files
# Interactive grep using ripgrep and fzf with preview

if [ $# -eq 0 ]; then
  echo "Usage: fif <search-term>"
  echo "Example: fif TODO"
  exit 1
fi

rg --files-with-matches --no-messages "$1" | \
  fzf --preview "bat --color=always {} | rg --colors 'match:bg:yellow' --ignore-case --pretty --context 10 '$1' || rg --ignore-case --pretty --context 10 '$1' {}"
